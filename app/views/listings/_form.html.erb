<% action_url = action == :new ? listings_url : listing_url(listing) %>

<form action="<%= action_url %>" method="<%= action == :new ? 'post' : 'put' %>">
  <input type="hidden"
    name="authenticity_token" 
    value="<%= form_authenticity_token %>">
  <div class="form-group">
    <label for="listing_price">Price:</label>
    <input type="number"
      id="listing_price"
      name="listing[price]"
      value="<%= listing.price %>"
      required>
  </div>
  <div class="form-group">
    <label for="listing_address">Street Address:</label>
    <input type="text"
      id="listing_address"
      name="listing[address]"
      value="<%= listing.address %>"
      required>
  </div>
  <div class="form-group">
    <label for="listing_city">City:</label>
    <input type="text"
      id="listing_city"
      name="listing[city]"
      value="<%= listing.city %>"
      required>
    <label for="listing_state">State:</label>
    <input type="text"
      id="listing_state"
      name="listing[state]"
      value="<%= listing.state %>"
      maxlength=2
      required>
    <label for="listing_zip">Zip:</label>
    <input type="text"
      id="listing_zip"
      name="listing[zip]"
      value="<%= listing.zip %>"
      maxlength=5
      required>
  </div>
  <button type="submit" class="btn btn-default">Post Listing</button>
</form>
